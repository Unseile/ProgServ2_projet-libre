# Active le moteur de réécriture d'URL
RewriteEngine On

# Blocage d'accès aux répertoires sensibles
RewriteRule ^src/ - [R=404,L]

# Si le fichier ou le répertoire demandé existe dans /public, ne pas réécrire
RewriteCond %{DOCUMENT_ROOT}/public/$1 -f [OR]
RewriteCond %{DOCUMENT_ROOT}/public/$1 -d
RewriteRule ^(.*)$ public/$1 [L]

# --- Nouvelle règle pour convertir les URL "propres" vers .php ---
# Si l'URL demandée ne correspond pas à un fichier ou dossier existant,
# et qu'un fichier .php du même nom existe, on le charge automatiquement.
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php [L,QSA]
